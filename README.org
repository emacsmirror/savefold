* savefold.el [[https://github.com/jcfk/savefold.el/actions/workflows/test.yml][file:https://github.com/jcfk/savefold.el/actions/workflows/test.yml/badge.svg]]

This package is a family of global minor modes that persist folds made by
various existing (mostly) overlay-based folding systems, saving them to the disk
and reapplying upon file open. Currently supported:

- [[https://www.gnu.org/software/emacs/manual/html_node/emacs/Outline-Mode.html][outline-mode]] / [[https://www.gnu.org/software/emacs/manual/html_node/emacs/Outline-Minor-Mode.html][outline-minor-mode]]
- [[https://orgmode.org/][org-mode]]
- [[https://github.com/gregsexton/origami.el][origami.el]]
- [[https://www.gnu.org/software/emacs/manual/html_node/emacs/Hideshow.html][hideshow]]

Rationale: there are billions of different types of folds in emacs, and very few
of the packages implement persistence. It makes sense for fold persistence to be
abstracted out into a separate package, both for economic reasons and for
consistency of usage.

Emacs version support: 28, 29, 30

** Usage

#+begin_src elisp
(use-package savefold
  :init
  (setq savefold-backends '(outline org origami hideshow))
  (setq savefold-directory (locate-user-emacs-file "savefold"))  ;; default

  :config
  (savefold-mode 1))
#+end_src

Notes:

- Setting ~org-startup-folded~ to ~'showeverything~ is recommended for
  proper org support.

Configuration:

- ~savefold-backends~ (default: ~'(outline)~) is a list of backends to be
  enabled by ~savefold-mode~.
- ~savefold-directory~ (default: ~(locate-user-emacs-file "savefold")~) is the
  directory where fold data is saved.

** Development

Savefold uses [[https://emacs-eask.github.io/][Eask]] for environment management and [[https://github.com/jorgenschaefer/emacs-buttercup][Buttercup]] for testing.
